{"entries":[{"timestamp":1763428382522,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1711,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":34,"diffs":[[1,"    \"name\": \"pxt-miniset\",\n"]]},{"start1":210,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1763428981828,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":425,"length1":61,"diffs":[[1,"                    ? (value as number).toString() aas string\n"]]},{"start1":536,"length1":79,"diffs":[[1,"                        ? +(value as boolean).toString()\n"]]},{"start1":1581,"length1":47,"diffs":[[1,"let s = new MiniSet.miniSet<number>([10, 20, 10, 30]);\n"]]},{"start1":1637,"length1":213,"diffs":[[1,"console.log(s.toArray());  // [10, 20, 30]\nconsole.log(s.size);       // 3"]]}]}]},{"timestamp":1763429549000,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":51,"length1":79,"diffs":[[1,"        private table: { [key: string]: boolean } = {};\n        private items: T[] = [];\n"]]},{"start1":173,"length1":25,"diffs":[[1,""]]},{"start1":296,"length1":63,"diffs":[[1,"            return typeof value === \"object\"\n"]]},{"start1":381,"length1":48,"diffs":[[1,"                : typeof value === \"number\"\n"]]},{"start1":486,"length1":53,"diffs":[[1,"                    : typeof value === \"boolean\"\n"]]},{"start1":614,"length1":61,"diffs":[[1,"                        : value as string;\n"]]},{"start1":1348,"length1":33,"diffs":[[1,"        clear(): void {\n"]]},{"start1":1441,"length1":60,"diffs":[[1,""]]}]}]},{"timestamp":1763430173258,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1034,"length1":30,"diffs":[[1,"        delete(value: T): void {\n"]]}]}]},{"timestamp":1763430217280,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":374,"length1":112,"diffs":[[1,"                ? JSON.stringify(value)\n                    : typeof value === \"number\"\n                    ? (value as number).toString() as string\n                        : typeof value === \"boolean\"\n                        ? (+(value as boolean) as number).toString() as string\n                            : value as string\n            );\n"]]},{"start1":966,"length1":50,"diffs":[[1,"            return this.table[this.key(value)] === true;\n"]]},{"start1":1404,"length1":31,"diffs":[[1,"        protected init(): void {\n"]]},{"start1":1591,"length1":40,"diffs":[[1,"            return this.items.slice();\n"]]}]}]},{"timestamp":1763430815891,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":797,"length1":331,"diffs":[[1,""]]},{"start1":1000,"length1":124,"diffs":[[1,"                if (this.key(this.items[i]) === k) {\n                    this.items.removeAt(i);\n                    break;\n                }\n"]]},{"start1":1327,"length1":102,"diffs":[[1,"        toArray(): T[] {\n            return this.items.slice());\n"]]}]}]},{"timestamp":1763431415670,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":51,"length1":49,"diffs":[[1,"        private table: { [key: string]: boolean };\n"]]},{"start1":600,"length1":38,"diffs":[[1,"                this.table[k] = true;\n"]]},{"start1":797,"length1":62,"diffs":[[1,"        const zigzet(l: number, r: number, n: number, c?: boolean): num {\n"]]},{"start1":984,"length1":78,"diffs":[[1,"            const half = (c ? 0.5 : 0)\n            if (n % 2 > 0) return l + (n2 + half);\n            return l + (size - n2 - half);\n"]]},{"start1":1331,"length1":164,"diffs":[[1,"                if (this.key(this.items[i]) !== k) continue;\n                this.items.removeAt(i);\n"]]},{"start1":2048,"length1":118,"diffs":[[1,"game.splash(`s.has(1): ${s.has(1)}`);       // false"]]}]}]},{"timestamp":1763431934799,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":795,"length1":97,"diffs":[[1,"        private zz(l: number, r: number, n: number): number {\n            if (l + n > r) return NaN;\n"]]},{"start1":930,"length1":38,"diffs":[[1,""]]},{"start1":1262,"length1":60,"diffs":[[1,"                const j = this.zz(0, this.items.length - 1, i)\n"]]},{"start1":2160,"length1":20,"diffs":[[1,""]]}]}]},{"timestamp":1763432474149,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1237,"length1":13,"diffs":[[1,""]]}]}]},{"timestamp":1763437422650,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1237,"length1":18,"diffs":[[1,"            \n"]]}]}]},{"timestamp":1763437425028,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":84,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":598,"length1":37,"diffs":[[1,"                this.table[k] = 0x01;\n"]]},{"start1":795,"length1":33,"diffs":[[1,"        private zz(n: number, r: number, l?: number): number {\n            if (l == null) l = 0;\n            const size = (r - l);\n            if (n > size) return NaN;\n            const n2 = Math.idiv(n, 2);\n            if (n % 2 > 0) return l + n2;\n            return l + (size - n2);\n        }\n\n        del(value: T): void {\n"]]},{"start1":1162,"length1":46,"diffs":[[1,"            if (!this.table[k]) return;\n"]]},{"start1":1237,"length1":93,"diffs":[[1,"            this.\n\n            for (let i = 0; i < this.items.length; i++) {\n                const j = this.zz(i, this.items.length - 1)\n                if (this.key(this.items[j]) !== k) continue;\n                this.items.removeAt(j);\n                break;\n            }\n"]]},{"start1":2155,"length1":57,"diffs":[[1,"game.splash(\"s.del(30):\", s.toArray())    // [10, 20]\n(convertToText(90))\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":217,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1763428382521,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"pxt-miniset\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1763430217280,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\nnamespace MiniSet {\n    export class miniSet<T> {\n        private table: { [key: string]: boolean };\n        private items: T[];\n\n        constructor(ls?: T[]) {\n            this.init();\n            if (!ls) return;\n            for (let v of ls) this.add(v);\n        }\n\n        private key(value: T): string {\n            return (\n                typeof value === \"object\"\n                ? JSON.stringify(value)\n                    : typeof value === \"number\"\n                    ? (value as number).toString() as string\n                        : typeof value === \"boolean\"\n                        ? (+(value as boolean) as number).toString() as string\n                            : value as string\n            );\n        }\n\n        add(value: T): void {\n            const k = this.key(value);\n            if (!this.table[k]) {\n                this.table[k] = true;\n                this.items.push(value);\n            }\n        }\n\n        has(value: T): boolean {\n            return this.table[this.key(value)] === true;\n        }\n\n        delete(value: T): void {\n            const k = this.key(value);\n            if (!this.table[k]) return;\n\n            delete this.table[k];\n\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.key(this.items[i]) === k) {\n                    this.items.removeAt(i);\n                    break;\n                }\n            }\n        }\n\n        protected init(): void {\n            this.table = {};\n            this.items = [];\n        }\n\n        clear(): void {\n            this.init();\n        }\n\n        toArray(): T[] {\n            return this.items.slice();\n        }\n\n        get size(): number {\n            return this.items.length;\n        }\n    }\n}\n\nlet s = new MiniSet.miniSet([10, 20, 10, 30]);\n\ngame.splash(\"s.toArray() :\", s.toArray());  // [10, 20, 30]\ngame.splash(`s.size: ${s.size}`);           // 3\ngame.splash(`s.has(10): ${s.has(10)}`);     // true\ngame.splash(`s.has(1): ${s.has(1)}`);       // false","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"pxt-arcade-miniset\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1763432043546,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\nnamespace MiniSet {\n    export class miniSet<T> {\n        private table: { [key: string]: uint8 };\n        private items: T[];\n\n        constructor(ls?: T[]) {\n            this.init();\n            if (!ls) return;\n            for (let v of ls) this.add(v);\n        }\n\n        private key(value: T): string {\n            return (\n                typeof value === \"object\"\n                    ? JSON.stringify(value)\n                    : convertToText(value)\n            ) as string;\n        }\n\n        add(value: T): void {\n            const k = this.key(value);\n            if (!this.table[k]) {\n                this.table[k] = 0x01;\n                this.items.push(value);\n            }\n        }\n\n        has(value: T): boolean {\n            return !!this.table[this.key(value)];\n        }\n\n        private zz(l: number, r: number, n: number): number {\n            if (l + n > r) return NaN;\n            const size = (r - l);\n            const n2 = Math.idiv(n, 2);\n            if (n % 2 > 0) return l + n2;\n            return l + (size - n2);\n        }\n\n        del(value: T): void {\n            const k = this.key(value);\n            if (!this.table[k]) return;\n\n            delete this.table[k];\n\n            for (let i = 0; i < this.items.length; i++) {\n                const j = this.zz(0, this.items.length - 1, i)\n                if (this.key(this.items[j]) !== k) continue;\n                this.items.removeAt(j);\n                break;\n            }\n        }\n\n        private init(): void {\n            this.table = {};\n            this.items = [];\n        }\n\n        clear(): void {\n            this.init();\n        }\n\n        toArray(start?: number, end?: number): T[] {\n            return this.items.slice(start, end);\n        }\n\n        get size(): number {\n            return this.items.length;\n        }\n    }\n}\n\nlet s = new MiniSet.miniSet([10, 20, 10, 30]);\n\ngame.splash(\"s.toArray() :\", s.toArray());  // [10, 20, 30]\ngame.splash(`s.size: ${s.size}`);           // 3\ngame.splash(`s.has(10): ${s.has(10)}`);     // true\ngame.splash(`s.has(1): ${s.has(1)}`);       // false\ns.del(30);\ngame.splash(\"s.del(30):\", s.toArray())    // [10, 20]\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"pxt-arcade-miniset\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1763437422650,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\nnamespace MiniSet {\n    export class miniSet<T> {\n        private table: { [key: string]: uint8 };\n        private items: T[];\n\n        constructor(ls?: T[]) {\n            this.init();\n            if (!ls) return;\n            for (let v of ls) this.add(v);\n        }\n\n        private key(value: T): string {\n            return (\n                typeof value === \"object\"\n                    ? JSON.stringify(value)\n                    : convertToText(value)\n            ) as string;\n        }\n\n        add(value: T): void {\n            const k = this.key(value);\n            if (!this.table[k]) {\n                this.table[k] = 0x01;\n                this.items.push(value);\n            }\n        }\n\n        has(value: T): boolean {\n            return !!this.table[this.key(value)];\n        }\n\n        private zz(n: number, r: number, l?: number): number {\n            if (l == null) l = 0;\n            const size = (r - l);\n            if (n > size) return NaN;\n            const n2 = Math.idiv(n, 2);\n            if (n % 2 > 0) return l + n2;\n            return l + (size - n2);\n        }\n\n        del(value: T): void {\n            const k = this.key(value);\n            if (!this.table[k]) return;\n\n            delete this.table[k];\n\n            for (let i = 0; i < this.items.length; i++) {\n                const j = this.zz(i, this.items.length - 1)\n                if (this.key(this.items[j]) !== k) continue;\n                this.items.removeAt(j);\n                break;\n            }\n        }\n\n        private init(): void {\n            this.table = {};\n            this.items = [];\n        }\n\n        clear(): void {\n            this.init();\n        }\n\n        toArray(start?: number, end?: number): T[] {\n            return this.items.slice(start, end);\n        }\n\n        get size(): number {\n            return this.items.length;\n        }\n    }\n}\n\nlet s = new MiniSet.miniSet([10, 20, 10, 30]);\n\ngame.splash(\"s.toArray() :\", s.toArray());  // [10, 20, 30]\ngame.splash(`s.size: ${s.size}`);           // 3\ngame.splash(`s.has(10): ${s.has(10)}`);     // true\ngame.splash(`s.has(1): ${s.has(1)}`);       // false\ns.del(30);\ngame.splash(\"s.del(30):\", s.toArray())    // [10, 20]\n(convertToText(90))\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"pxt-arcade-miniset\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1763437902908}